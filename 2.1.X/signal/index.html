
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Brian Sammuli">
      
      
        <link rel="canonical" href="https://ga-fdp.github.io/toksearch/2.1.X/signal/">
      
      
        <link rel="prev" href="../backend_multiprocessing/">
      
      
        <link rel="next" href="../record_set/">
      
      
      <link rel="icon" href="../favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.20">
    
    
      
        <title>Signal - TokSearch</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.66ac8b77.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#toksearch.Signal" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="TokSearch" class="md-header__button md-logo" aria-label="TokSearch" data-md-component="logo">
      
  <img src="../ts_just_logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            TokSearch
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Signal
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/GA-FDP/toksearch" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GA-FDP/toksearch
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="TokSearch" class="md-nav__button md-logo" aria-label="TokSearch" data-md-component="logo">
      
  <img src="../ts_just_logo.svg" alt="logo">

    </a>
    TokSearch
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/GA-FDP/toksearch" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GA-FDP/toksearch
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Working_with_Signals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Working with signals
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Using_with_Xarray/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Xarray and signal alignment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Parallelization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parallelization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../distributed_computing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Distributed computing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating pipelines from SQL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Aggregating_Data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Combining data after pipeline computation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pipeline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipeline
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../record/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Record
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mds/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MDSplus Data Access
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Backend
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Backend
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backend_ray/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ray
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backend_spark/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spark
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backend_serial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Serial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backend_multiprocessing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multiprocessing
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" checked>
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Abstract Interfaces
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Abstract Interfaces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Signal
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Signal
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#toksearch.Signal" class="md-nav__link">
    <span class="md-ellipsis">
      Signal
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Signal">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#toksearch.Signal.cleanup" class="md-nav__link">
    <span class="md-ellipsis">
      cleanup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toksearch.Signal.cleanup_shot" class="md-nav__link">
    <span class="md-ellipsis">
      cleanup_shot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toksearch.Signal.fetch" class="md-nav__link">
    <span class="md-ellipsis">
      fetch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toksearch.Signal.fetch_as_xarray" class="md-nav__link">
    <span class="md-ellipsis">
      fetch_as_xarray
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toksearch.Signal.gather" class="md-nav__link">
    <span class="md-ellipsis">
      gather
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toksearch.Signal.set_callback" class="md-nav__link">
    <span class="md-ellipsis">
      set_callback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toksearch.Signal.set_dims" class="md-nav__link">
    <span class="md-ellipsis">
      set_dims
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../record_set/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RecordSet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#toksearch.Signal" class="md-nav__link">
    <span class="md-ellipsis">
      Signal
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Signal">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#toksearch.Signal.cleanup" class="md-nav__link">
    <span class="md-ellipsis">
      cleanup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toksearch.Signal.cleanup_shot" class="md-nav__link">
    <span class="md-ellipsis">
      cleanup_shot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toksearch.Signal.fetch" class="md-nav__link">
    <span class="md-ellipsis">
      fetch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toksearch.Signal.fetch_as_xarray" class="md-nav__link">
    <span class="md-ellipsis">
      fetch_as_xarray
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toksearch.Signal.gather" class="md-nav__link">
    <span class="md-ellipsis">
      gather
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toksearch.Signal.set_callback" class="md-nav__link">
    <span class="md-ellipsis">
      set_callback
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toksearch.Signal.set_dims" class="md-nav__link">
    <span class="md-ellipsis">
      set_dims
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Signal</h1>

<div class="doc doc-object doc-class">



<h2 id="toksearch.Signal" class="doc doc-heading">
          <code>toksearch.Signal</code>


</h2>


  <div class="doc doc-contents first">
          <p class="doc doc-class-bases">
            Bases: <code><span title="abc.ABC">ABC</span></code></p>

  
      <p>Abstract base class for signals</p>
<p>This class is intended to be subclassed to create signals that can be
fetched from a data source. The class provides a fetch method that
fetches the data for a given shot, and a fetch_as_xarray method that
fetches the data as an xarray Dataset object.</p>
<p>The general idea is that a signal is created with a set of parameters
that are used to fetch the data for a given shot. The signal is then registered with a
SignalRegistry object, which keeps track of all signals used in a toksearch
application. This allows for easy cleanup of all signals (and associated
resources) when the application is done.</p>
<p>The fetch method is the main method that needs to be called to fetch the
data for a shot. It first performs registration of the signal with the 
SignalRegistry object. It then calls the gather method, which is an abstract
method that needs to be implemented by subclasses. The gather method is
responsible for collecting the data for a shot, and should return a dictionary
containing the data fetched for the signal. The dictionary should contain a
key 'data' with the data, and keys for each dimension of the data, with the
values being the values of the dimensions. If the with_units attribute is True,
the dictionary should also contain a key 'units' with the units of the data and
dimensions.If a callback function has been set with the set_callback method,
it is called after the data is fetched.</p>



  <p><strong>Methods:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
          <tr>
            <td><code><a class="autorefs autorefs-internal" title="toksearch.Signal.fetch" href="#toksearch.Signal.fetch">fetch</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Fetch the data for a shot.</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code><a class="autorefs autorefs-internal" title="toksearch.Signal.fetch_as_xarray" href="#toksearch.Signal.fetch_as_xarray">fetch_as_xarray</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Fetch the data for a shot as an xarray DataArray object.</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code><a class="autorefs autorefs-internal" title="toksearch.Signal.gather" href="#toksearch.Signal.gather">gather</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Abstract method. Collect the data for a shot. This method should be implemented
by subclasses.</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code><a class="autorefs autorefs-internal" title="toksearch.Signal.cleanup_shot" href="#toksearch.Signal.cleanup_shot">cleanup_shot</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Abstract method. Clean up any resources specific to a shot. For example, if
an MDSplus tree is opened to fetch data, this method should close the tree.</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code><a class="autorefs autorefs-internal" title="toksearch.Signal.cleanup" href="#toksearch.Signal.cleanup">cleanup</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Abstract method. Clean up any resources shared between shots. For example, if a
network connection is opened to fetch data (and shared amongst multiple shots),
this method should close it.</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code><a class="autorefs autorefs-internal" title="toksearch.Signal.set_callback" href="#toksearch.Signal.set_callback">set_callback</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>set a callback function to be called after the data is gathered in the fetch method</p>
              </div>
            </td>
          </tr>
          <tr>
            <td><code><a class="autorefs autorefs-internal" title="toksearch.Signal.set_dims" href="#toksearch.Signal.set_dims">set_dims</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>set the dimensions of the signal</p>
              </div>
            </td>
          </tr>
    </tbody>
  </table>
      <p>Note:</p>
<div class="language-text highlight"><pre><span></span><code>gather, cleanup, and cleanup_shot are abstract methods that need to be implemented
by subclasses.
</code></pre></div>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code><span title="toksearch.Signal.dims">dims</span></code></td>
          <td>
                <code>Iterable[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A list or other iterable of the labels
for each dimension of the signals data. Most typically, this
is just time, so the default is ('times',). If, for example,
you have a time varying profile with, say, a radial dimension,
you could pass ('times', 'radius'). The order is significant
since, and in the case of MDSplus, it needs to match the way
dim_of(0), dim_of(1),... are stored.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="toksearch.Signal.data_order">data_order</span></code></td>
          <td>
                <code>Iterable[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A list or other iterable of the labels for each dimension of
the signals data. This is to be used when the dimension order fetched in
MDSplus, dim(0),dim(1)... does not match the shape of the data stored.
This list should match the order that the dimensions are stored in the actual data,
and should be complementary with the dims parameter.</p>
<p>Ex) If in MDSplus, dim(0) = 'rho', dim(1) = 'times', then the following would be used:
    dims = ('rho','times')</p>
<p>But, if the data shape (n_times, n_rho), then the following would be used to
match the data shape:
    data_order = (1,0) or ("times","rho")</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="toksearch.Signal.with_units">with_units</span></code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A boolean flag that indicates whether to fetch the units
of the signal. If True, the fetch_units method will be called to fetch the
units of the signal in the fetch method.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h3 id="toksearch.Signal.cleanup" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">cleanup</span><span class="p">()</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Close down any resources that are shared amongst multiple shots.</p>
<p>This typically means closing a network connection to a remote server.</p>

  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="toksearch.Signal.cleanup_shot" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">cleanup_shot</span><span class="p">(</span><span class="n">shot</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Close down any per-shot resources needed to fetch data a shot</p>
<p>For instance, if an mds datasource is being used, this will close
the tree.</p>

  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="toksearch.Signal.fetch" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">fetch</span><span class="p">(</span><span class="n">shot</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Fetch the data for a shot</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>shot</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The shot number to fetch the data for</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>dict</code></td>          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A dictionary containing the data fetched for the signal. The dictionary
will contain a key 'data' with the data, and keys for each dimension of the
data, with the values being the values of the dimensions. If the with_units
attribute is True, the dictionary will also contain a key 'units' with the units
of the data and dimensions.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="toksearch.Signal.fetch_as_xarray" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">fetch_as_xarray</span><span class="p">(</span><span class="n">shot</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Fetch the data for a shot as an xarray DataArray object</p>
<p>Returns a DataArray object with dimensions specified in the
dims attribute of the Signal object.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>shot</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The shot number to fetch the data for</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="xarray.DataArray">DataArray</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>xr.DataArray: An xarray DataArray object containing the data fetched for the signal,
with dimensions specified in the dims attribute of the Signal object.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="toksearch.Signal.gather" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">gather</span><span class="p">(</span><span class="n">shot</span><span class="p">)</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-abstractmethod"><code>abstractmethod</code></small>
  </span>

</h3>


  <div class="doc doc-contents ">
  
      <p>Collect the data for a shot</p>

  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="toksearch.Signal.set_callback" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">set_callback</span><span class="p">(</span><span class="n">func</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Set a callback function to be called after the data is fetched in the fetch method</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>func</code></td>
          <td>
                <code>function</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The callback function to call. The function should take a single
argument, which is a dictionary containing the data fetched for the signal. The
function should return a dictionary containing the modified data.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>Signal</code></td>          <td>
                <code><a class="autorefs autorefs-internal" title="toksearch.signal.signal.Signal" href="#toksearch.Signal">Signal</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The signal object. This allows for chaining of method calls.
eg signal.set_callback(func).set_dims(dims).fetch(shot)</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="toksearch.Signal.set_dims" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">set_dims</span><span class="p">(</span><span class="n">dims</span><span class="p">,</span> <span class="n">data_order</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Set the dimensions of the signal</p>
<p>This method sets the dimensions of the signal. The dimensions are used
to fetch the dimensions of the signal in the fetch_dims method. The
dimensions are also used to create an xarray Dataset object in the
fetch_as_xarray method.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>dims</code></td>
          <td>
                <code>iterable of strings</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A list or other iterable of the labels
for each dimension of the signals data. Most typically, this
is just time, so the default is ('times',). If, for example,
you have a time varying profile with, say, a radial dimension,
you could pass ('times', 'radius'). The order is significant
since, and in the case of MDSplus, it needs to match the way
dim_of(0), dim_of(1),... are stored.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Other Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data_order</code></td>
          <td>
                <code>list</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A list or other iterable of the labels for each dimension of
the signals data. This is to be used when the dimension order fetched in
MDSplus, dim(0),dim(1)... does not match the shape of the data stored.
This list should match the order that the dimensions are stored in the actual data,
and should be complementary of the dims parameter.</p>
<p>Ex) MDSplus storage -&gt; dim(0) = 'rho', dim(1) = 'time'
    dims = ('rho','time')</p>
<p>Data shape -&gt; (time X rho)
    data_order = (1,0) or ("time","rho")</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>Signal</code></td>          <td>
                <code><a class="autorefs autorefs-internal" title="toksearch.signal.signal.Signal" href="#toksearch.Signal">Signal</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The signal object. This allows for chaining of method calls.
eg signal.set_callback(func).set_dims(dims).fetch(shot)</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>



  </div>

  </div>


</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.dd8806f2.min.js"></script>
      
    
  </body>
</html>